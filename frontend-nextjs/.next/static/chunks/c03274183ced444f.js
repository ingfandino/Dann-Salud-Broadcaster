(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20095,e=>{"use strict";var t=e.i(13161);let r=(0,e.i(49163).default)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);var n=e.i(53609),a=e.i(33121),l=e.i(32905),o=e.i(77982),i=e.i(20277),s=e.i(2372),c=e.i(47248),d=e.i(98275),u=e.i(20483),f=e.i(50362),p=e.i(7020),g=e.i(72079),x=e.i(31981),m=e.i(91447),h=e.i(32575),b=e.i(8950);function y(){return"undefined"!=typeof window}function w(e){return N(e)?(e.nodeName||"").toLowerCase():"#document"}function v(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function j(e){var t;return null==(t=(N(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function N(e){return!!y()&&(e instanceof Node||e instanceof v(e).Node)}function k(e){return!!y()&&(e instanceof Element||e instanceof v(e).Element)}function S(e){return!!y()&&(e instanceof HTMLElement||e instanceof v(e).HTMLElement)}function C(e){return!!y()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof v(e).ShadowRoot)}e.i(57954);let R=new Set(["inline","contents"]);function E(e){let{overflow:t,overflowX:r,overflowY:n,display:a}=V(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!R.has(a)}let L=new Set(["table","td","th"]),T=[":popover-open",":modal"];function A(e){return T.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let M=["transform","translate","scale","rotate","perspective"],D=["transform","translate","scale","rotate","perspective","filter"],P=["paint","layout","strict","content"];function F(e){let t=O(),r=k(e)?V(e):e;return M.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||D.some(e=>(r.willChange||"").includes(e))||P.some(e=>(r.contain||"").includes(e))}function O(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let _=new Set(["html","body","#document"]);function W(e){return _.has(w(e))}function V(e){return v(e).getComputedStyle(e)}function B(e){return k(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function H(e){if("html"===w(e))return e;let t=e.assignedSlot||e.parentNode||C(e)&&e.host||j(e);return C(t)?t.host:t}function z(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let a=function e(t){let r=H(t);return W(r)?t.ownerDocument?t.ownerDocument.body:t.body:S(r)&&E(r)?r:e(r)}(e),l=a===(null==(n=e.ownerDocument)?void 0:n.body),o=v(a);if(l){let e=I(o);return t.concat(o,o.visualViewport||[],E(a)?a:[],e&&r?z(e):[])}return t.concat(a,z(a,[],r))}function I(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}let U=Math.min,$=Math.max,X=Math.round,q=Math.floor,G=e=>({x:e,y:e}),Y={left:"right",right:"left",bottom:"top",top:"bottom"},J={start:"end",end:"start"};function K(e,t){return"function"==typeof e?e(t):e}function Q(e){return e.split("-")[0]}function Z(e){return e.split("-")[1]}function ee(e){return"x"===e?"y":"x"}function et(e){return"y"===e?"height":"width"}let er=new Set(["top","bottom"]);function en(e){return er.has(Q(e))?"y":"x"}function ea(e){return e.replace(/start|end/g,e=>J[e])}let el=["left","right"],eo=["right","left"],ei=["top","bottom"],es=["bottom","top"];function ec(e){return e.replace(/left|right|bottom|top/g,e=>Y[e])}function ed(e){let{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var eu="undefined"==typeof Element;eu||Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,eu||Element.prototype.getRootNode;var ef="undefined"!=typeof document?m.useLayoutEffect:function(){};let ep={...m}.useInsertionEffect||(e=>e());var eg=e.i(56667);function ex(e,t,r){let n,{reference:a,floating:l}=e,o=en(t),i=ee(en(t)),s=et(i),c=Q(t),d="y"===o,u=a.x+a.width/2-l.width/2,f=a.y+a.height/2-l.height/2,p=a[s]/2-l[s]/2;switch(c){case"top":n={x:u,y:a.y-l.height};break;case"bottom":n={x:u,y:a.y+a.height};break;case"right":n={x:a.x+a.width,y:f};break;case"left":n={x:a.x-l.width,y:f};break;default:n={x:a.x,y:a.y}}switch(Z(t)){case"start":n[i]-=p*(r&&d?-1:1);break;case"end":n[i]+=p*(r&&d?-1:1)}return n}let em=async(e,t,r)=>{let{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:o}=r,i=l.filter(Boolean),s=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=ex(c,n,s),f=n,p={},g=0;for(let r=0;r<i.length;r++){let{name:l,fn:x}=i[r],{x:m,y:h,data:b,reset:y}=await x({x:d,y:u,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=h?h:u,p={...p,[l]:{...p[l],...b}},y&&g<=50&&(g++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(c=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):y.rects),{x:d,y:u}=ex(c,f,s)),r=-1)}return{x:d,y:u,placement:f,strategy:a,middlewareData:p}};async function eh(e,t){var r,n;void 0===t&&(t={});let{x:a,y:l,platform:o,rects:i,elements:s,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=K(t,e),x="number"!=typeof(n=g)?{top:0,right:0,bottom:0,left:0,...n}:{top:n,right:n,bottom:n,left:n},m=s[p?"floating"===f?"reference":"floating":f],h=ed(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:d,rootBoundary:u,strategy:c})),b="floating"===f?{x:a,y:l,width:i.floating.width,height:i.floating.height}:i.reference,y=await (null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),w=await (null==o.isElement?void 0:o.isElement(y))&&await (null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},v=ed(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:c}):b);return{top:(h.top-v.top+x.top)/w.y,bottom:(v.bottom-h.bottom+x.bottom)/w.y,left:(h.left-v.left+x.left)/w.x,right:(v.right-h.right+x.right)/w.x}}let eb=new Set(["left","top"]);async function ey(e,t){let{placement:r,platform:n,elements:a}=e,l=await (null==n.isRTL?void 0:n.isRTL(a.floating)),o=Q(r),i=Z(r),s="y"===en(r),c=eb.has(o)?-1:1,d=l&&s?-1:1,u=K(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"==typeof g&&(p="end"===i?-1*g:g),s?{x:p*d,y:f*c}:{x:f*c,y:p*d}}function ew(e){let t=V(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,a=S(e),l=a?e.offsetWidth:r,o=a?e.offsetHeight:n,i=X(r)!==l||X(n)!==o;return i&&(r=l,n=o),{width:r,height:n,$:i}}function ev(e){return k(e)?e:e.contextElement}function ej(e){let t=ev(e);if(!S(t))return G(1);let r=t.getBoundingClientRect(),{width:n,height:a,$:l}=ew(t),o=(l?X(r.width):r.width)/n,i=(l?X(r.height):r.height)/a;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}let eN=G(0);function ek(e){let t=v(e);return O()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eN}function eS(e,t,r,n){var a;void 0===t&&(t=!1),void 0===r&&(r=!1);let l=e.getBoundingClientRect(),o=ev(e),i=G(1);t&&(n?k(n)&&(i=ej(n)):i=ej(e));let s=(void 0===(a=r)&&(a=!1),n&&(!a||n===v(o))&&a)?ek(o):G(0),c=(l.left+s.x)/i.x,d=(l.top+s.y)/i.y,u=l.width/i.x,f=l.height/i.y;if(o){let e=v(o),t=n&&k(n)?v(n):n,r=e,a=I(r);for(;a&&n&&t!==r;){let e=ej(a),t=a.getBoundingClientRect(),n=V(a),l=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,f*=e.y,c+=l,d+=o,a=I(r=v(a))}}return ed({width:u,height:f,x:c,y:d})}function eC(e,t){let r=B(e).scrollLeft;return t?t.left+r:eS(j(e)).left+r}function eR(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-eC(e,r),y:r.top+t.scrollTop}}let eE=new Set(["absolute","fixed"]);function eL(e,t,r){var n;let a;if("viewport"===t)a=function(e,t){let r=v(e),n=j(e),a=r.visualViewport,l=n.clientWidth,o=n.clientHeight,i=0,s=0;if(a){l=a.width,o=a.height;let e=O();(!e||e&&"fixed"===t)&&(i=a.offsetLeft,s=a.offsetTop)}let c=eC(n);if(c<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,o=Math.abs(n.clientWidth-t.clientWidth-a);o<=25&&(l-=o)}else c<=25&&(l+=c);return{width:l,height:o,x:i,y:s}}(e,r);else if("document"===t){let t,r,l,o,i,s,c;n=j(e),t=j(n),r=B(n),l=n.ownerDocument.body,o=$(t.scrollWidth,t.clientWidth,l.scrollWidth,l.clientWidth),i=$(t.scrollHeight,t.clientHeight,l.scrollHeight,l.clientHeight),s=-r.scrollLeft+eC(n),c=-r.scrollTop,"rtl"===V(l).direction&&(s+=$(t.clientWidth,l.clientWidth)-o),a={width:o,height:i,x:s,y:c}}else if(k(t)){let e,n,l,o,i,s;n=(e=eS(t,!0,"fixed"===r)).top+t.clientTop,l=e.left+t.clientLeft,o=S(t)?ej(t):G(1),i=t.clientWidth*o.x,s=t.clientHeight*o.y,a={width:i,height:s,x:l*o.x,y:n*o.y}}else{let r=ek(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ed(a)}function eT(e){return"static"===V(e).position}function eA(e,t){if(!S(e)||"fixed"===V(e).position)return null;if(t)return t(e);let r=e.offsetParent;return j(e)===r&&(r=r.ownerDocument.body),r}function eM(e,t){var r;let n=v(e);if(A(e))return n;if(!S(e)){let t=H(e);for(;t&&!W(t);){if(k(t)&&!eT(t))return t;t=H(t)}return n}let a=eA(e,t);for(;a&&(r=a,L.has(w(r)))&&eT(a);)a=eA(a,t);return a&&W(a)&&eT(a)&&!F(a)?n:a||function(e){let t=H(e);for(;S(t)&&!W(t);){if(F(t))return t;if(A(t))break;t=H(t)}return null}(e)||n}let eD=async function(e){let t=this.getOffsetParent||eM,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=S(t),a=j(t),l="fixed"===r,o=eS(e,!0,l,t),i={scrollLeft:0,scrollTop:0},s=G(0);if(n||!n&&!l)if(("body"!==w(t)||E(a))&&(i=B(t)),n){let e=eS(t,!0,l,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else a&&(s.x=eC(a));l&&!n&&a&&(s.x=eC(a));let c=!a||n||l?G(0):eR(a,i);return{x:o.left+i.scrollLeft-s.x-c.x,y:o.top+i.scrollTop-s.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},eP={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e,l="fixed"===a,o=j(n),i=!!t&&A(t.floating);if(n===o||i&&l)return r;let s={scrollLeft:0,scrollTop:0},c=G(1),d=G(0),u=S(n);if((u||!u&&!l)&&(("body"!==w(n)||E(o))&&(s=B(n)),S(n))){let e=eS(n);c=ej(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let f=!o||u||l?G(0):eR(o,s);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-s.scrollTop*c.y+d.y+f.y}},getDocumentElement:j,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e,l=[..."clippingAncestors"===r?A(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=z(e,[],!1).filter(e=>k(e)&&"body"!==w(e)),a=null,l="fixed"===V(e).position,o=l?H(e):e;for(;k(o)&&!W(o);){let t=V(o),r=F(o);r||"fixed"!==t.position||(a=null),(l?!r&&!a:!r&&"static"===t.position&&!!a&&eE.has(a.position)||E(o)&&!r&&function e(t,r){let n=H(t);return!(n===r||!k(n)||W(n))&&("fixed"===V(n).position||e(n,r))}(e,o))?n=n.filter(e=>e!==o):a=t,o=H(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=l[0],i=l.reduce((e,r)=>{let n=eL(t,r,a);return e.top=$(n.top,e.top),e.right=U(n.right,e.right),e.bottom=U(n.bottom,e.bottom),e.left=$(n.left,e.left),e},eL(t,o,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:eM,getElementRects:eD,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=ew(e);return{width:t,height:r}},getScale:ej,isElement:k,isRTL:function(e){return"rtl"===V(e).direction}};function eF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eO(e,t,r,n){let a;void 0===n&&(n={});let{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,d=ev(e),u=l||o?[...d?z(d):[],...z(t)]:[];u.forEach(e=>{l&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});let f=d&&s?function(e,t){let r,n=null,a=j(e);function l(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function o(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),l();let c=e.getBoundingClientRect(),{left:d,top:u,width:f,height:p}=c;if(i||t(),!f||!p)return;let g={rootMargin:-q(u)+"px "+-q(a.clientWidth-(d+f))+"px "+-q(a.clientHeight-(u+p))+"px "+-q(d)+"px",threshold:$(0,U(1,s))||1},x=!0;function m(t){let n=t[0].intersectionRatio;if(n!==s){if(!x)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||eF(c,e.getBoundingClientRect())||o(),x=!1}try{n=new IntersectionObserver(m,{...g,root:a.ownerDocument})}catch(e){n=new IntersectionObserver(m,g)}n.observe(e)}(!0),l}(d,r):null,p=-1,g=null;i&&(g=new ResizeObserver(e=>{let[n]=e;n&&n.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),r()}),d&&!c&&g.observe(d),g.observe(t));let x=c?eS(e):null;return c&&function t(){let n=eS(e);x&&!eF(x,n)&&r(),x=n,a=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{l&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=g)||e.disconnect(),g=null,c&&cancelAnimationFrame(a)}}var e_="undefined"!=typeof document?m.useLayoutEffect:function(){};function eW(e,t){let r,n,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!eW(e[n],t[n]))return!1;return!0}if((r=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!=n--;){let r=a[n];if(("_owner"!==r||!e.$$typeof)&&!eW(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function eV(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eB(e,t){let r=eV(e);return Math.round(t*r)/r}function eH(e){let t=m.useRef(e);return e_(()=>{t.current=e}),t}let ez={...m},eI=!1,eU=0,e$=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eU++,eX=ez.useId||function(){let[e,t]=m.useState(()=>eI?e$():void 0);return ef(()=>{null==e&&t(e$())},[]),m.useEffect(()=>{eI=!0},[]),e},eq=m.createContext(null),eG=m.createContext(null);var eY=e.i(22426);function eJ(){var e,y,w,v,j,N,S;let{theme:C}=(0,g.useTheme)(),[R,E]=(0,m.useState)(!1),[L,T]=(0,m.useState)([]),[A,M]=(0,m.useState)(""),D=(0,eY.useRouter)(),[P,F]=(0,m.useState)(!1),[O,_]=(0,m.useState)(null),[W,V]=(0,m.useState)(""),[B,H]=(0,m.useState)(!1),[z,I]=(0,m.useState)(null);(0,m.useRef)(null);let[X,q]=(0,m.useState)([]),[G,Y]=(0,m.useState)(""),[J,er]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=localStorage.getItem("wa_templates");if(e)try{q(JSON.parse(e))}catch{q([])}},[]);let ed=e=>{q(e),localStorage.setItem("wa_templates",JSON.stringify(e))},{refs:eu,floatingStyles:ex}=function(e){void 0===e&&(e={});let{nodeId:t}=e,r=function(e){var t,r;let n,{open:a=!1,onOpenChange:l,elements:o}=e,i=eX(),s=m.useRef({}),[c]=m.useState(()=>{let e;return e=new Map,{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;null==(n=e.get(t))||n.delete(r)}}}),d=null!=((null==(t=m.useContext(eq))?void 0:t.id)||null),[u,f]=m.useState(o.reference),p=(r=(e,t,r)=>{s.current.openEvent=e?t:void 0,c.emit("openchange",{open:e,event:t,reason:r,nested:d}),null==l||l(e,t,r)},n=m.useRef(()=>{}),ep(()=>{n.current=r}),m.useCallback(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])),g=m.useMemo(()=>({setPositionReference:f}),[]),x=m.useMemo(()=>({reference:u||o.reference||null,floating:o.floating||null,domReference:o.reference}),[u,o.reference,o.floating]);return m.useMemo(()=>({dataRef:s,open:a,onOpenChange:p,elements:x,events:c,floatingId:i,refs:g}),[a,p,x,c,i,g])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[l,o]=m.useState(null),[i,s]=m.useState(null),c=(null==a?void 0:a.domReference)||l,d=m.useRef(null),u=m.useContext(eG);ef(()=>{c&&(d.current=c)},[c]);let f=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:o}={},transform:i=!0,whileElementsMounted:s,open:c}=e,[d,u]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(n);eW(f,n)||p(n);let[g,x]=m.useState(null),[h,b]=m.useState(null),y=m.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),w=m.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),v=l||g,j=o||h,N=m.useRef(null),k=m.useRef(null),S=m.useRef(d),C=null!=s,R=eH(s),E=eH(a),L=eH(c),T=m.useCallback(()=>{var e,n;let a,l,o;if(!N.current||!k.current)return;let i={placement:t,strategy:r,middleware:f};E.current&&(i.platform=E.current),(e=N.current,n=k.current,a=new Map,o={...(l={platform:eP,...i}).platform,_c:a},em(e,n,{...l,platform:o})).then(e=>{let t={...e,isPositioned:!1!==L.current};A.current&&!eW(S.current,t)&&(S.current=t,eg.flushSync(()=>{u(t)}))})},[f,t,r,E,L]);e_(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let A=m.useRef(!1);e_(()=>(A.current=!0,()=>{A.current=!1}),[]),e_(()=>{if(v&&(N.current=v),j&&(k.current=j),v&&j){if(R.current)return R.current(v,j,T);T()}},[v,j,T,R,C]);let M=m.useMemo(()=>({reference:N,floating:k,setReference:y,setFloating:w}),[y,w]),D=m.useMemo(()=>({reference:v,floating:j}),[v,j]),P=m.useMemo(()=>{let e={position:r,left:0,top:0};if(!D.floating)return e;let t=eB(D.floating,d.x),n=eB(D.floating,d.y);return i?{...e,transform:"translate("+t+"px, "+n+"px)",...eV(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,i,D.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:T,refs:M,elements:D,floatingStyles:P}),[d,T,M,D,P])}({...e,elements:{...a,...i&&{reference:i}}}),p=m.useCallback(e=>{let t=k(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;s(t),f.refs.setReference(t)},[f.refs]),g=m.useCallback(e=>{(k(e)||null===e)&&(d.current=e,o(e)),(k(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!k(e))&&f.refs.setReference(e)},[f.refs]),x=m.useMemo(()=>({...f.refs,setReference:g,setPositionReference:p,domReference:d}),[f.refs,g,p]),h=m.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),b=m.useMemo(()=>({...f,...n,refs:x,elements:h,nodeId:t}),[f,x,h,t,n]);return ef(()=>{n.dataRef.current.floatingContext=b;let e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),m.useMemo(()=>({...f,context:b,refs:x,elements:h}),[f,x,h,b])}({placement:"left-start",middleware:[{name:"offset",options:10,async fn(e){var t,r;let{x:n,y:a,placement:l,middlewareData:o}=e,i=await ey(e,10);return l===(null==(t=o.offset)?void 0:t.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:n+i.x,y:a+i.y,data:{...i,placement:l}}},options:[10,e]},{...(void 0===(v=y)&&(v={}),{name:"flip",options:v,async fn(e){var t,r,n,a,l,o,i,s;let c,d,u,{placement:f,middlewareData:p,rects:g,initialPlacement:x,platform:m,elements:h}=e,{mainAxis:b=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:k=!0,...S}=K(v,e);if(null!=(t=p.arrow)&&t.alignmentOffset)return{};let C=Q(f),R=en(x),E=Q(x)===x,L=await (null==m.isRTL?void 0:m.isRTL(h.floating)),T=w||(E||!k?[ec(x)]:(c=ec(x),[ea(x),c,ea(c)])),A="none"!==N;!w&&A&&T.push(...(d=Z(x),u=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?eo:el;return t?el:eo;case"left":case"right":return t?ei:es;default:return[]}}(Q(x),"start"===N,L),d&&(u=u.map(e=>e+"-"+d),k&&(u=u.concat(u.map(ea)))),u));let M=[x,...T],D=await eh(e,S),P=[],F=(null==(r=p.flip)?void 0:r.overflows)||[];if(b&&P.push(D[C]),y){let e,t,r,n,a=(o=f,i=g,void 0===(s=L)&&(s=!1),e=Z(o),r=et(t=ee(en(o))),n="x"===t?e===(s?"end":"start")?"right":"left":"start"===e?"bottom":"top",i.reference[r]>i.floating[r]&&(n=ec(n)),[n,ec(n)]);P.push(D[a[0]],D[a[1]])}if(F=[...F,{placement:f,overflows:P}],!P.every(e=>e<=0)){let e=((null==(n=p.flip)?void 0:n.index)||0)+1,t=M[e];if(t&&("alignment"!==y||R===en(t)||F.every(e=>en(e.placement)!==R||e.overflows[0]>0)))return{data:{index:e,overflows:F},reset:{placement:t}};let r=null==(a=F.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(j){case"bestFit":{let e=null==(l=F.filter(e=>{if(A){let t=en(e.placement);return t===R||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(r=e);break}case"initialPlacement":r=x}if(f!==r)return{reset:{placement:r}}}return{}}}),options:[y,w]},{...{name:"shift",options:S=j={padding:10},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...i}=K(S,e),s={x:t,y:r},c=await eh(e,i),d=en(Q(n)),u=ee(d),f=s[u],p=s[d];if(a){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=f+c[e],n=f-c[t];f=$(r,U(f,n))}if(l){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=p+c[e],n=p-c[t];p=$(r,U(p,n))}let g=o.fn({...e,[u]:f,[d]:p});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[u]:a,[d]:l}}}}},options:[j,N]}],whileElementsMounted:eO}),[eb,ew]=(0,m.useState)(!1),[ev,ej]=(0,m.useState)(""),[eN,ek]=(0,m.useState)(""),[eS,eC]=(0,m.useState)(!1),[eR,eE]=(0,m.useState)([]),[eL,eT]=(0,m.useState)(""),[eA,eM]=(0,m.useState)(0),eD=async()=>{E(!0);try{let e=await h.api.assignments.getMyLeads();T(e.data)}catch(e){console.error("Error cargando leads:",e),b.toast.error("Error al cargar tus datos del dÃ­a")}finally{E(!1)}};(0,m.useEffect)(()=>{eD()},[]);let eF=async(e,t)=>{try{T(L.map(r=>r._id===e?{...r,status:t}:r)),await h.api.assignments.updateStatus(e,{status:t}),b.toast.success(`Estado actualizado a ${t}`)}catch(e){console.error("Error actualizando estado:",e),b.toast.error("Error al actualizar estado"),eD()}},ez=async()=>{try{let e=await h.api.whatsapp.status();I(e.data?.connected||!1)}catch{I(!1)}};(0,m.useEffect)(()=>{ez();let e=()=>ez();return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);let eI=async(e,t)=>{try{let e=await h.api.whatsapp.status(),t=e.data?.connected||!1;if(I(t),!t){b.toast.error("WhatsApp no estÃ¡ vinculado. Redirigiendo..."),D.push("/dashboard/whatsapp");return}}catch{b.toast.error("Error verificando WhatsApp. Redirigiendo..."),D.push("/dashboard/whatsapp");return}eM(window.scrollY||document.documentElement.scrollTop),_(e),V(`Hola ${e.affiliate.nombre}, soy de Dann Salud. Te contacto por tu consulta sobre obra social.`),F(!0)};(0,m.useEffect)(()=>{(async()=>{try{console.log("[DatosDia] Cargando supervisores con scope=supervisors...");let e=await h.api.users.list("scope=supervisors");console.log("[DatosDia] Supervisores recibidos:",e.data?.length||0);let t=(e.data||[]).sort((e,t)=>e.nombre?.localeCompare(t.nombre));console.log("[DatosDia] Supervisores:",t.map(e=>e.nombre)),eE(t)}catch(e){console.error("[DatosDia] Error cargando supervisores:",e)}})()},[]);let eU=async()=>{if(O&&W.trim()){H(!0);try{await h.api.assignments.sendWhatsApp(O._id,{message:W}),b.toast.success("Mensaje enviado correctamente"),F(!1),T(L.map(e=>e._id===O._id?{...e,status:"Llamando"}:e))}catch(e){console.error("Error enviando WA:",e),b.toast.error(e.response?.data?.error||"Error al enviar mensaje")}finally{H(!1)}}},e$=async()=>{if(!O||!eL)return void b.toast.error("Selecciona un supervisor");eC(!0);try{await h.api.assignments.reassign(O._id,{supervisorId:eL,note:ev,scheduledHour:eN||void 0}),b.toast.success("Reasignado exitosamente. Se notificÃ³ al supervisor."),ew(!1),T(L.filter(e=>e._id!==O._id))}catch(e){console.error("Error reasignando:",e),b.toast.error(e.response?.data?.error||"Error al reasignar")}finally{eC(!1)}},eJ=L.filter(e=>{let t=A.toLowerCase();return e.affiliate?.nombre?.toLowerCase().includes(t)||e.affiliate?.telefono1?.includes(t)||e.affiliate?.cuil?.includes(t)}),eK=async()=>{try{let e=await h.api.assignments.exportMyLeads(),t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=t,r.setAttribute("download",`mis_leads_${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(r),r.click(),r.remove(),b.toast.success("Excel exportado correctamente")}catch(e){console.error("Error exportando:",e),b.toast.error("Error al exportar Excel")}};return(0,t.jsxs)("div",{className:"animate-fade-in-up space-y-4 relative",children:[(0,t.jsxs)("div",{className:(0,x.cn)("rounded-2xl border p-4 lg:p-6 backdrop-blur-sm","dark"===C?"bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10":"bg-gradient-to-br from-white to-[#FAF7F2]/80 border-purple-200/30 shadow-lg shadow-purple-100/30"),children:[(0,t.jsxs)("h2",{className:(0,x.cn)("text-lg lg:text-xl font-semibold flex items-center gap-2","dark"===C?"text-white":"text-gray-700"),children:[(0,t.jsx)(r,{className:(0,x.cn)("w-5 h-5","dark"===C?"text-purple-400":"text-purple-500")}),"Datos del DÃ­a"]}),(0,t.jsxs)("p",{className:(0,x.cn)("text-sm mt-2","dark"===C?"text-gray-400":"text-gray-600"),children:["Gestiona tus asignaciones diarias. Total: ",L.length]})]}),(0,t.jsxs)("div",{className:(0,x.cn)("rounded-2xl border p-4 backdrop-blur-sm flex flex-col sm:flex-row gap-3 items-center justify-between","dark"===C?"bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10":"bg-gradient-to-br from-white to-[#FAF7F2]/80 border-purple-200/30 shadow-lg shadow-purple-100/30"),children:[(0,t.jsxs)("div",{className:"relative flex-1 w-full sm:w-auto",children:[(0,t.jsx)(n.Search,{className:(0,x.cn)("absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4","dark"===C?"text-gray-400":"text-gray-500")}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar por nombre, telÃ©fono o CUIL...",value:A,onChange:e=>M(e.target.value),className:(0,x.cn)("pl-10 pr-4 py-2 w-full rounded-lg border text-sm","dark"===C?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-200 text-gray-700 placeholder-gray-400")})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:eK,className:(0,x.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors","dark"===C?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-green-100 text-green-600 hover:bg-green-200"),children:[(0,t.jsx)(a.Download,{className:"w-4 h-4"}),"Exportar Excel"]}),(0,t.jsxs)("button",{onClick:eD,className:(0,x.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors","dark"===C?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"bg-blue-100 text-blue-600 hover:bg-blue-200"),children:[(0,t.jsx)(l.RefreshCw,{className:(0,x.cn)("w-4 h-4",R&&"animate-spin")}),"Actualizar"]})]})]}),(0,t.jsx)("div",{className:(0,x.cn)("rounded-2xl border backdrop-blur-sm overflow-hidden","dark"===C?"bg-gradient-to-br from-white/5 to-white/[0.02] border-white/10":"bg-gradient-to-br from-white to-[#FAF7F2]/80 border-purple-200/30 shadow-lg shadow-purple-100/30"),children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:(0,x.cn)("border-b","dark"===C?"bg-white/5 border-white/10":"bg-purple-50/50 border-purple-100"),children:[(0,t.jsx)("th",{className:(0,x.cn)("px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider","dark"===C?"text-gray-300":"text-gray-700"),children:"Afiliado"}),(0,t.jsx)("th",{className:(0,x.cn)("px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider","dark"===C?"text-gray-300":"text-gray-700"),children:"Datos Contacto"}),(0,t.jsx)("th",{className:(0,x.cn)("px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider","dark"===C?"text-gray-300":"text-gray-700"),children:"Estado"}),(0,t.jsx)("th",{className:(0,x.cn)("px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider","dark"===C?"text-gray-300":"text-gray-700"),children:"Acciones"})]})}),(0,t.jsxs)("tbody",{className:(0,x.cn)("divide-y","dark"===C?"divide-white/10":"divide-gray-200"),children:[eJ.map(e=>(0,t.jsxs)("tr",{className:(0,x.cn)("transition-all duration-200",(e=>{switch(e){case"Pendiente":return"dark"===C?"bg-gray-500/5":"bg-gray-50/50";case"Llamando":return"dark"===C?"bg-yellow-500/5":"bg-yellow-50/50";case"No contesta":return"dark"===C?"bg-orange-500/5":"bg-orange-50/50";case"Venta":return"dark"===C?"bg-green-500/10":"bg-green-50/70";case"No le interesa":return"dark"===C?"bg-red-500/5":"bg-red-50/50";case"Spam":return"dark"===C?"bg-blue-500/5":"bg-blue-50/50";case"Reasignada":return"dark"===C?"bg-purple-500/5":"bg-purple-50/50";default:return""}})(e.status),"dark"===C?"hover:bg-emerald-500/20 hover:shadow-lg hover:shadow-emerald-500/20 hover:scale-[1.01]":"hover:bg-emerald-100 hover:shadow-md hover:shadow-emerald-200/50 hover:scale-[1.01]"),children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:(0,x.cn)("font-medium text-sm","dark"===C?"text-white":"text-gray-900"),children:e.affiliate?.nombre||"Sin Nombre"}),(0,t.jsxs)("span",{className:(0,x.cn)("text-xs","dark"===C?"text-gray-400":"text-gray-500"),children:["CUIL: ",e.affiliate?.cuil||"-"]}),(0,t.jsx)("span",{className:(0,x.cn)("text-xs","dark"===C?"text-gray-400":"text-gray-500"),children:e.affiliate?.localidad})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Phone,{className:"w-3 h-3 text-gray-400"}),(0,t.jsx)("span",{className:(0,x.cn)("text-sm","dark"===C?"text-gray-300":"text-gray-600"),children:e.affiliate?.telefono1})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:(0,x.cn)("text-xs px-2 py-0.5 rounded-full border","dark"===C?"border-gray-700 text-gray-400":"border-gray-200 text-gray-500"),children:e.affiliate?.obraSocial||"Sin OS"})})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("select",{value:e.status,onChange:t=>eF(e._id,t.target.value),className:(0,x.cn)("px-2 py-1 rounded-md text-xs font-medium border-none outline-none cursor-pointer",(e=>{switch(e){case"Pendiente":default:return"dark"===C?"bg-gray-500/20 text-gray-400":"bg-gray-100 text-gray-700";case"Llamando":return"dark"===C?"bg-yellow-500/20 text-yellow-400":"bg-yellow-100 text-yellow-700";case"No contesta":return"dark"===C?"bg-orange-500/20 text-orange-400":"bg-orange-100 text-orange-700";case"Venta":return"dark"===C?"bg-green-500/20 text-green-400":"bg-green-100 text-green-700";case"No le interesa":return"dark"===C?"bg-red-500/20 text-red-400":"bg-red-100 text-red-700";case"Spam":return"dark"===C?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-700";case"Reasignada":return"dark"===C?"bg-purple-500/20 text-purple-400":"bg-purple-100 text-purple-700"}})(e.status)),children:[(0,t.jsx)("option",{value:"Pendiente",children:"Pendiente"}),(0,t.jsx)("option",{value:"Llamando",children:"Llamando"}),(0,t.jsx)("option",{value:"No contesta",children:"No contesta"}),(0,t.jsx)("option",{value:"Venta",children:"Venta"}),(0,t.jsx)("option",{value:"No le interesa",children:"No le interesa"}),(0,t.jsx)("option",{value:"Spam",children:"Spam"}),(0,t.jsx)("option",{value:"Reasignada",children:"Reasignada"})]}),e.subStatus&&(0,t.jsx)("span",{className:(0,x.cn)("text-[10px] italic","dark"===C?"text-gray-400":"text-gray-500"),children:e.subStatus})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>eI(e,t.currentTarget),className:(0,x.cn)("p-2 rounded-lg transition-colors","dark"===C?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-green-100 text-green-600 hover:bg-green-200"),title:"Enviar WhatsApp",children:(0,t.jsx)(i.MessageCircle,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{_(e),eT(""),ej(""),ek(""),eM(window.scrollY||document.documentElement.scrollTop),ew(!0)},className:(0,x.cn)("p-2 rounded-lg transition-colors","dark"===C?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":"bg-purple-100 text-purple-600 hover:bg-purple-200"),title:"Reasignar a Supervisor",children:(0,t.jsx)(f.UserPlus,{className:"w-4 h-4"})})]})})]},e._id)),0===eJ.length&&!R&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No tienes datos asignados para hoy."})})]})]})})}),P&&O&&(0,t.jsx)("div",{className:"absolute z-50 left-1/2 -translate-x-1/2 p-4",style:{top:`${eA+50}px`},children:(0,t.jsxs)("div",{className:(0,x.cn)("w-[420px] rounded-2xl border p-5 shadow-2xl animate-scale-in","dark"===C?"bg-[#1a1b26] border-white/10 shadow-black/50":"bg-white border-gray-200 shadow-xl shadow-gray-400/30"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:(0,x.cn)("text-base font-semibold flex items-center gap-2","dark"===C?"text-white":"text-gray-800"),children:[(0,t.jsx)(i.MessageCircle,{className:"w-5 h-5 text-green-500"}),"Enviar WhatsApp"]}),(0,t.jsx)("button",{onClick:()=>{F(!1),er(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,t.jsx)(u.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"mb-4 p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[(0,t.jsxs)("p",{className:(0,x.cn)("text-sm","dark"===C?"text-gray-300":"text-gray-700"),children:["Para: ",(0,t.jsx)("span",{className:"font-semibold text-green-600",children:O.affiliate.nombre})]}),(0,t.jsxs)("p",{className:(0,x.cn)("text-xs mt-1","dark"===C?"text-gray-400":"text-gray-500"),children:["ðŸ“± ",O.affiliate.telefono1]})]}),X.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:(0,x.cn)("text-xs font-medium mb-1.5 block","dark"===C?"text-gray-400":"text-gray-600"),children:"ðŸ“‹ Plantillas guardadas"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:X.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>{let t;return t=e.message,void(O&&(t=(t=t.replace(/\{nombre\}/gi,O.affiliate.nombre||"")).replace(/\{telefono\}/gi,O.affiliate.telefono1||"")),V(t))},className:(0,x.cn)("px-2.5 py-1 rounded-lg text-xs font-medium transition-colors","dark"===C?"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30":"bg-purple-100 text-purple-700 hover:bg-purple-200"),children:e.name}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(ed(X.filter(e=>e.id!==t)),b.toast.success("Plantilla eliminada"))},className:"text-red-400 hover:text-red-500 p-0.5",title:"Eliminar plantilla",children:(0,t.jsx)(u.X,{className:"w-3 h-3"})})]},e.id))}),(0,t.jsxs)("p",{className:(0,x.cn)("text-[10px] mt-1.5 italic","dark"===C?"text-gray-500":"text-gray-400"),children:["Tip: Usa ","{nombre}"," y ","{telefono}"," como variables"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:(0,x.cn)("text-xs font-medium mb-1.5 block","dark"===C?"text-gray-400":"text-gray-600"),children:"âœ‰ï¸ Mensaje"}),(0,t.jsx)("textarea",{value:W,onChange:e=>V(e.target.value),rows:5,className:(0,x.cn)("w-full p-3 rounded-lg border text-sm resize-none focus:ring-2 focus:ring-green-500/50 outline-none","dark"===C?"bg-white/5 border-white/10 text-white":"bg-gray-50 border-gray-200 text-gray-800"),placeholder:"Escribe tu mensaje aquÃ­..."})]}),J?(0,t.jsxs)("div",{className:"mb-4 p-3 rounded-lg border border-dashed border-purple-400/50 bg-purple-500/5",children:[(0,t.jsx)("label",{className:(0,x.cn)("text-xs font-medium mb-1.5 block","dark"===C?"text-purple-300":"text-purple-600"),children:"Nombre de la plantilla"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:G,onChange:e=>Y(e.target.value),placeholder:"Ej: Saludo inicial",className:(0,x.cn)("flex-1 px-3 py-1.5 rounded-lg border text-xs outline-none focus:ring-2 focus:ring-purple-500/50","dark"===C?"bg-white/5 border-white/10 text-white":"bg-white border-gray-200")}),(0,t.jsx)("button",{onClick:()=>{if(!G.trim()||!W.trim())return;let e={id:Date.now().toString(),name:G.trim(),message:W};ed([...X,e]),Y(""),er(!1),b.toast.success(`Plantilla "${e.name}" guardada`)},disabled:!G.trim(),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-purple-500 text-white hover:bg-purple-600 disabled:opacity-50",children:"Guardar"}),(0,t.jsx)("button",{onClick:()=>{er(!1),Y("")},className:(0,x.cn)("px-2 py-1.5 rounded-lg text-xs","dark"===C?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"),children:"Cancelar"})]})]}):(0,t.jsx)("button",{onClick:()=>er(!0),disabled:!W.trim(),className:(0,x.cn)("w-full mb-4 px-3 py-2 rounded-lg text-xs font-medium transition-colors border border-dashed","dark"===C?"border-purple-500/30 text-purple-400 hover:bg-purple-500/10 disabled:opacity-40":"border-purple-300 text-purple-600 hover:bg-purple-50 disabled:opacity-40"),children:"ðŸ’¾ Guardar mensaje como plantilla"}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>{F(!1),er(!1)},className:(0,x.cn)("px-4 py-2 rounded-lg text-sm font-medium transition-colors","dark"===C?"hover:bg-white/10 text-gray-300":"hover:bg-gray-100 text-gray-600"),children:"Cancelar"}),(0,t.jsx)("button",{onClick:eU,disabled:B||!W.trim(),className:(0,x.cn)("flex items-center gap-2 px-5 py-2 rounded-lg text-sm font-medium transition-colors","bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed"),children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Send,{className:"w-4 h-4"}),"Enviar WhatsApp"]})})]})]})}),eb&&O&&(0,t.jsx)("div",{className:"absolute z-50 left-1/2 -translate-x-1/2 p-4",style:{top:`${eA+100}px`},children:(0,t.jsxs)("div",{className:(0,x.cn)("w-full max-w-md rounded-2xl border p-6 shadow-2xl animate-scale-in","dark"===C?"bg-[#1a1b26] border-white/10 shadow-black/50":"bg-white border-gray-200 shadow-xl shadow-gray-400/30"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:(0,x.cn)("text-lg font-semibold flex items-center gap-2","dark"===C?"text-white":"text-gray-800"),children:[(0,t.jsx)(p.Users,{className:"w-5 h-5 text-purple-500"}),"Reasignar a Supervisor"]}),(0,t.jsx)("button",{onClick:()=>ew(!1),className:"text-gray-500 hover:text-gray-700",children:(0,t.jsx)(u.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"mb-4 p-3 rounded-lg bg-purple-50 border border-purple-100",children:[(0,t.jsxs)("p",{className:(0,x.cn)("text-sm","dark"===C?"text-gray-400":"text-gray-600"),children:["Lead: ",(0,t.jsx)("span",{className:"font-semibold text-purple-600",children:O.affiliate.nombre})]}),(0,t.jsxs)("p",{className:(0,x.cn)("text-xs mt-1","text-gray-500"),children:["Tel: ",O.affiliate.telefono1," | CUIL: ",O.affiliate.cuil]})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:(0,x.cn)("text-sm font-medium mb-2 block","dark"===C?"text-gray-300":"text-gray-700"),children:"Supervisor destino *"}),(0,t.jsxs)("select",{value:eL,onChange:e=>eT(e.target.value),className:(0,x.cn)("w-full p-3 rounded-lg border text-sm focus:ring-2 focus:ring-purple-500/50 outline-none","dark"===C?"bg-white/5 border-white/10 text-white":"bg-gray-50 border-gray-200 text-gray-800"),children:[(0,t.jsx)("option",{value:"",children:"Seleccionar supervisor..."}),eR.map(e=>(0,t.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:(0,x.cn)("text-sm font-medium mb-2 block","dark"===C?"text-gray-300":"text-gray-700"),children:[(0,t.jsx)(s.Clock,{className:"w-4 h-4 inline mr-1"}),"Hora sugerida para llamar (opcional)"]}),(0,t.jsx)("input",{type:"time",value:eN,onChange:e=>ek(e.target.value),className:(0,x.cn)("w-full p-3 rounded-lg border text-sm focus:ring-2 focus:ring-purple-500/50 outline-none","dark"===C?"bg-white/5 border-white/10 text-white":"bg-gray-50 border-gray-200 text-gray-800")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:(0,x.cn)("text-sm font-medium mb-2 block","dark"===C?"text-gray-300":"text-gray-700"),children:"Nota / Motivo (opcional)"}),(0,t.jsx)("textarea",{value:ev,onChange:e=>ej(e.target.value),rows:3,className:(0,x.cn)("w-full p-3 rounded-lg border text-sm resize-none focus:ring-2 focus:ring-purple-500/50 outline-none","dark"===C?"bg-white/5 border-white/10 text-white":"bg-gray-50 border-gray-200 text-gray-800"),placeholder:"Ej: Cliente disponible despuÃ©s de las 15hs..."})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>ew(!1),className:(0,x.cn)("px-4 py-2 rounded-lg text-sm font-medium transition-colors","dark"===C?"hover:bg-white/10 text-gray-300":"hover:bg-gray-100 text-gray-600"),children:"Cancelar"}),(0,t.jsx)("button",{onClick:e$,disabled:eS||!eL,className:(0,x.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors","bg-purple-500 text-white hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed"),children:eS?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Reasignando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.CheckCircle,{className:"w-4 h-4"}),"Confirmar ReasignaciÃ³n"]})})]})]})})]})}e.s(["ContactarDatosDia",()=>eJ],20095)}]);